function calculateBanner(a){var e=$(window).width(),n=$(window).height(),i=a.find("li:visible img").height(),t=-a.find("li:visible img").width()/2,r=n-($(".globalHeader").innerHeight()+$("header").innerHeight()+$(".mainNavigation").innerHeight()+$("#promoLink-sticky-wrapper").innerHeight()),s=a.find("li").length,p=0,d=a.find("li:visible .caption").innerHeight(),o=0,h=0;a.find("li img").css({marginLeft:t}),a.parents(".mainBanner").hasClass("largeBanner")&&($("html").hasClass("desktop")&&(e>=960?(r>=698&&(r=698,p=e>960?960:e),$("html").hasClass("touch")&&$("html").hasClass("desktop")&&(r=550),p=960,pagerWidth=parseInt(p/s),r=r,pagerWidth=parseInt(p/s),h=r/2,a.find(".imageblock").animate({height:r}),a.parents(".bx-wrapper").find(".bx-pager").css({width:p,bottom:d}),a.parents(".bx-wrapper").find(".bx-pager-item").css({width:pagerWidth}),a.parents(".bx-wrapper").find(".bx-controls-direction a").animate({top:h})):(r=(o=i)+d,p=e,pagerWidth=parseInt(p/s),h=o/2,a.find(".imageblock").animate({height:o}),a.parents(".bx-wrapper").find(".bx-pager").css({width:p,bottom:d}),a.parents(".bx-wrapper").find(".bx-pager-item").css({width:pagerWidth}),a.parents(".bx-wrapper").find(".bx-controls-direction a").animate({top:h})),r<450&&a.parents(".largeBanner").addClass("heightAdjusted")),$("html").hasClass("tablet")&&(r=(o=e>n&&e>960?i-170:i)+d,p=e,$("html").hasClass("ie")&&(o=r=550,p=960),pagerWidth=parseInt(p/s),h=o/2,a.find(".imageblock").animate({height:o}),a.parents(".bx-wrapper").find(".bx-pager").css({width:p,bottom:d}),a.parents(".bx-wrapper").find(".bx-pager-item").css({width:pagerWidth}),a.parents(".bx-wrapper").find(".bx-controls-direction a").animate({top:h})),$("html").hasClass("mobile")&&(r=(o=i)+d,p=e,pagerWidth=parseInt(p/s),h=o/2,a.find(".imageblock").animate({height:o}),a.parents(".bx-wrapper").find(".bx-pager").css({width:p,bottom:d}),a.parents(".bx-wrapper").find(".bx-pager-item").css({width:pagerWidth}),a.parents(".bx-wrapper").find(".bx-controls-direction a").animate({top:h})),a.parents(".largeBanner, .bx-viewport, .bx-wrapper").css({height:r}),a.find("li").animate({height:r})),a.parents(".mainBanner").hasClass("mediumBanner")&&(o=i,$("html").hasClass("tablet")&&(p=e,r=o+d,$("html").hasClass("ie")&&(r=o,p=960),pagerWidth=parseInt(p/s),h=o/2,a.find(".imageblock").animate({height:o}),a.parents(".bx-wrapper").find(".bx-pager").css({width:p,bottom:d}),a.parents(".bx-wrapper").find(".bx-pager-item").css({width:pagerWidth}),a.parents(".bx-wrapper").find(".bx-controls-direction a").animate({top:h})),$("html").hasClass("mobile")&&(p=e,r=o+d,pagerWidth=parseInt(p/s),h=o/2,a.find(".imageblock").animate({height:o}),a.parents(".bx-wrapper").find(".bx-pager").css({width:p,bottom:d}),a.parents(".bx-wrapper").find(".bx-pager-item").css({width:pagerWidth}),a.parents(".bx-wrapper").find(".bx-controls-direction a").animate({top:h})),$("html").hasClass("desktop")&&(e>960?(r=o,p=960,pagerWidth=parseInt(p/s),h=o/2,a.find(".imageblock").animate({height:r}),a.parents(".bx-wrapper").find(".bx-pager").css({width:p,bottom:d}),a.parents(".bx-wrapper").find(".bx-pager-item").css({width:pagerWidth}),a.parents(".bx-wrapper").find(".bx-controls-direction a").animate({top:h})):(p=e,r=o+d,h=o/2,pagerWidth=parseInt(p/s),a.find(".imageblock").animate({height:o}),a.parents(".bx-wrapper").find(".bx-pager").css({width:p,bottom:d}),a.parents(".bx-wrapper").find(".bx-pager-item").css({width:pagerWidth}),a.parents(".bx-wrapper").find(".bx-controls-direction a").animate({top:h}))),a.parents(".mediumBanner, .bx-viewport, .bx-wrapper").css({height:r}),a.find("li").animate({height:r})),a.parents(".mainBanner").hasClass("smallBanner")&&(r=i,p=$(".smallBanner").innerWidth(),pagerWidth=parseInt(p/s),a.find(".imageblock").css({height:r}),a.parents(".bx-wrapper").find(".bx-pager").css({width:p,bottom:d}),a.parents(".bx-wrapper").find(".bx-pager-item").css({width:pagerWidth}),a.parents(".smallBanner, .bx-viewport, .bx-wrapper").css({height:r}),a.find("li").css({height:r}))}function debouncer(a,e){var n;return e=e||200,function(){var i=this,t=arguments;clearTimeout(n),n=setTimeout(function(){a.apply(i,Array.prototype.slice.call(t))},e)}}var banners=function(a){var e=$(a),n=null,i=null,t=e.find("li").length,r=e.find(".caption").length;n=!!((e.parents(".mainBanner").hasClass("largeBanner")&&e.parents(".row").hasClass("multiple")||e.parents(".row").hasClass("mediumBanner")&&e.parents(".mainBanner").hasClass("multiple"))&&t>1),$("body").hasClass("home")&&e.parents(".mainBanner").hasClass("mediumBanner")?n=!1:e.parents(".mainBanner").hasClass("mediumBanner")&&t>1&&(n=!0),e.parents(".mainBanner").hasClass("smallBanner")&&(n=!1),1===t?i=!1:t>1&&(i=!0),e.bxSlider({infiniteLoop:!0,captions:!0,mode:"fade",auto:n,touchEnabled:i,swipeThreshold:30,oneToOneTouch:!1,onSliderLoad:function(a){calculateBanner(e),$(".mainBanner").removeClass("invisible"),e.parents(".multiple").css("background","none"),e.find("li:visible").hasClass("noCaption")?e.parents(".mainBanner").find(".bx-pager").hide():e.parents(".mainBanner").find(".bx-pager").show(),0===r&&e.parents(".bx-wrapper").find(".bx-pager").hide()},onSlideBefore:function(a){a.find(".anchorLink").css({opacity:0}),a.parents(".mainBanner").find(".bx-pager").css({opacity:0}),a.find(".inner").css({top:-200})},onSlideAfter:function(a){calculateBanner(e);var n=a.find(".caption").innerHeight();a.parents(".mainBanner").find(".bx-pager").css({opacity:1,bottom:n}),a.parents(".largeBanner, .mediumBanner").find(".inner").animate({top:16}),a.parents(".smallBanner").find(".inner").animate({top:13}),a.find(".anchorLink").animate({opacity:1})}})},contentbanners=function(a){var e=$(a),n=null,i=e.find("li").length;1===i?n=!1:i>1&&(n=!0);e.bxSlider({infiniteLoop:!0,captions:!0,controls:!1,pager:n,touchEnabled:n,swipeThreshold:30,oneToOneTouch:!1,adaptiveHeight:!0})};$(window).load(function(){$(".mainBanner").removeClass("invisible"),$(".mainBanner .bxslider").each(function(){banners(this)}),$(".content-slidersml .bxslider").each(function(){contentbanners(this)})}),$(window).resize(debouncer(function(a){$(".largeBanner").removeClass("heightAdjusted"),$(".mainBanner .bxslider").each(function(){calculateBanner($(this))})}));